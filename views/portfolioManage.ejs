<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Portfolio</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/styles.css"/>
    <script src="/javascripts/scripts.js"></script>
</head>
<header>
    <nav>
        <!-- When the navigation button is clicked the submenu shows -->
        <button id="nav" onclick="show()">Navigation menu</button>
        <div class="hide" id="expandingMenu" >
            <a class="subMenu thumb-pr mn" href="/">Home</a> 
            <a class="subMenu thumb-pr mn" href="/portfolio">Portfolio List</a>
            <a class="subMenu thumb-pr mn" href="/accounts/login">Login</a>
        </div>
    </nav>
</header>
<body>
    <h1>Manage Portfolio: <%= portfolio.clientName %></h1>

    <form action="/portfolio/<%= portfolio._id %>" method="POST">
        <label for="clientName">Client Name:</label>
        <input type="text" id="clientName" name="clientName" value="<%= portfolio.clientName %>" required><br><br>

        <label for="clientDescription">Client Description:</label>
        <textarea id="clientDescription" name="clientDescription" required><%= portfolio.clientDescription %></textarea><br><br>

        <label for="fundManagerEmail">Fund Manager Email:</label>
        <input type="email" id="fundManagerEmail" name="fundManagerEmail" value="<%= portfolio.fundManagerEmail %>" required><br><br>

        <h3>Select Stock Symbols:</h3>
        <% stockSymbols.forEach(symbol => { %>
            <label>
                <input type="checkbox" name="stockSymbols" value="<%= symbol %>" 
                    <%= portfolio.stockSymbols.includes(symbol) ? 'checked' : '' %> />
                <%= symbol %>
            </label><br>
        <% }) %>

        <h3>Select Crypto Symbols:</h3>
        <% cryptoSymbols.forEach(symbol => { %>
            <label>
                <input type="checkbox" name="cryptoSymbols" value="<%= symbol %>" 
                    <%= portfolio.cryptoSymbols.includes(symbol) ? 'checked' : '' %> />
                <%= symbol %>
            </label><br>
        <% }) %>

        <button type="submit">Save Changes</button>
    </form>
</body>
</html>
