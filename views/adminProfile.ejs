<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title %></title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/styles.css" />
    <script src="/javascripts/scripts.js"></script>
  </head>
  <body>
    <header>
      <h1><%= title %></h1>
    </header>
    <nav>
        <%- include ('partials/headers'); %>
    </nav>
    <main>
      <section>
        <h2>Hello, <%= username %>!</h2>
        <p>This is your admin profile page.</p>

          <p>Username: <%= username %><br>
          Email: <%= email %></p>
          <p><a href="/admin/create-user">Create New User</a></p>

        <button id="editProfileButton">Edit Profile</button>
        <% if (users) { %>
          <h3>User Management</h3>
          <ul>
            <% users.forEach(user => { %>
              <li><%= user.username %> - <%= user.email %></li>
            <% }) %>
          </ul>
        <% } %>

        <form id="updateForm" action="/admin/profile" method="POST" class="hidden">
          <label for="username">Update Username:</label>
          <input type="text" id="username" name="username" value="<%= username %>" />

          <label for="email">Update Email:</label>
          <input type="email" id="email" name="email" value="<%= email %>" />

          <button type="submit">Save Changes</button>
        </form>

        <p><a href="/accounts/request-password-reset" class="reset-password">Reset your password</a></p>



      </section>
    </main>
  </body>
</html>
