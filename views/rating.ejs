<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/rating.css"> 
</head>
<header>
    <h1><%= title %></h1>
  </header>
<nav>
    <%- include ('partials/headers'); %>
  </nav>
<body>
    <div class="rating-container">
        <h2>Rate Your Experience with Us</h2>
        <!--form-->
        <form action="/rating/submit-rating" method="POST">
            <div class="rating-options">
                <label>Rate us:</label><br>
                <!--radio buttons for rating (1-5)-->
                <% for (let i = 1; i <= 5; i++) { %> 
                    <input type="radio" id="rate<%= i %>" name="rating" value="<%= i %>" required>
                    <label for="rate<%= i %>"><%= i %></label>
                <% } %>
            </div>
            <div class="comment-section">
                <!--Comment text field-->
                <label for="comment">Comments:</label><br>
                <textarea id="comment" name="comment" rows="4" cols="50" placeholder="Please leave your feedback here..." maxlength="300"></textarea>
                <div id="char-count">300 characters remaining</div>
            </div>
            <!--submission button-->
            <button type="submit">Submit</button>
        </form>
    </div>
</body>
<script>
    const commentInput = document.getElementById('comment');
    const charCountDisplay = document.getElementById('char-count');

    commentInput.addEventListener('input', () => {
        const remaining = 300 - commentInput.value.length;
        charCountDisplay.textContent = `${remaining} characters remaining`;
    });
</script>
</html>
